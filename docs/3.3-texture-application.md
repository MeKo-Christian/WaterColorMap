# Phase 3.3: Texture Application

**Status**: âœ… COMPLETE

## Overview

Texture application takes the processed watercolor mask and paints it with seamless, tintable textures while keeping edges and tile boundaries artifact-free.

## Implementation

**Location**: `internal/texture/processor.go`

- `TextureNameForLayer`: Resolves default texture filenames per layer (land, water, parks, civic, roads).
- `TileTexture`: Tiles a source texture into a tile-sized image with optional global offsets to keep seams invisible across tiles.
- `ApplyMaskToTexture`: Uses a grayscale mask as the alpha channel, tiling the texture if needed so edges stay seamless.
- `TintTexture`: Applies a configurable tint to a texture without altering its alpha channel.

## Tests

**Location**: `internal/texture/processor_test.go`

- `TestTextureNameForLayer`: Verifies the default layer-to-texture mapping.
- `TestTileTextureWithOffsetsSeamless`: Confirms tiled textures match across horizontal and vertical neighbors.
- `TestTileTextureUsesOffsets`: Ensures offsets shift sampling as expected.
- `TestApplyMaskToTexture`: Applies a mask and checks RGB/alpha correctness.
- `TestTintTexture`: Validates tint blending while preserving alpha.

## Usage Example

```go
tileSize := 256
texture := TileTexture(baseTexture, tileSize, int(tileX)*tileSize, int(tileY)*tileSize)
tinted := TintTexture(texture, color.NRGBA{R: 210, G: 190, B: 160, A: 255}, 0.25)
painted := ApplyMaskToTexture(tinted, watercolorMask)
```

Offsets anchor texture sampling to a global grid, keeping adjacent tiles seamless while tinting and masking create the painted watercolor appearance.
